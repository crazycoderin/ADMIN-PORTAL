{"ast":null,"code":"import _slicedToArray from \"D:\\\\Rohit\\\\programing\\\\aashi\\\\aashi\\\\admin_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Rohit\\\\programing\\\\aashi\\\\aashi\\\\admin_panel\\\\src\\\\components\\\\common\\\\table.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"./button\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { useEffect, useState } from \"react\";\nfunction TableComp(props) {\n  var _this = this;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var navigate = useNavigate();\n  var logedinUser = JSON.parse(localStorage.getItem(\"logedinUser\"));\n  var tableData = JSON.parse(localStorage.getItem(\"userArr\"));\n  var handleDeleteUser = function handleDeleteUser(user) {\n    setLoading(true);\n    localStorage.setItem(\"deleteUserData\", JSON.stringify(user));\n    var oldUserIndex;\n    var _iterator = _createForOfIteratorHelper(props.userArr.entries()),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _ref3 = _step.value;\n        var _ref2 = _slicedToArray(_ref3, 2);\n        var index = _ref2[0];\n        var use = _ref2[1];\n        if (use.email === user.email) {\n          oldUserIndex = index;\n          console.log(use.email);\n          console.log(oldUserIndex, \"olduserindex\");\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    props.userArr.splice(oldUserIndex, 1);\n    console.log(props.userArr);\n    setTimeout(function () {\n      localStorage.setItem(\"userArr\", JSON.stringify(props.userArr));\n      window.location.reload();\n    }, 5000000);\n  };\n  var handleEditUser = function handleEditUser(user) {\n    localStorage.setItem(\"editUserData\", JSON.stringify(user));\n    navigate(\"/dasboard/update\");\n    console.log(user);\n  };\n  useEffect(function () {\n    console.log();\n    setLoading(false);\n  }, [tableData.length]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"S.no\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, loading && /*#__PURE__*/React.createElement(ClipLoader, {\n    color: \"#36d7b7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 23\n    }\n  }), props.userArr.map(function (user, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: user.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, user.role), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, logedinUser.role === \"Admin\" || logedinUser.role === \"Manager\" ? /*#__PURE__*/React.createElement(Button, {\n      label: \"Edit\",\n      onClick: function onClick() {\n        return handleEditUser(user);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }) : \"\", logedinUser.role === \"Admin\" ? /*#__PURE__*/React.createElement(Button, {\n      label: \"Delete\",\n      onClick: function onClick() {\n        return handleDeleteUser(user);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }) : \"\"));\n  }))));\n}\nexport default TableComp;","map":{"version":3,"names":["React","useNavigate","Button","ClipLoader","useEffect","useState","TableComp","props","loading","setLoading","navigate","logedinUser","JSON","parse","localStorage","getItem","tableData","handleDeleteUser","user","setItem","stringify","oldUserIndex","userArr","entries","index","use","email","console","log","splice","setTimeout","window","location","reload","handleEditUser","length","map","name","role"],"sources":["D:/Rohit/programing/aashi/aashi/admin_panel/src/components/common/table.js"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Button from \"./button\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { useEffect,useState } from \"react\";\r\n\r\nfunction TableComp(props) {\r\n  const[loading,setLoading]=useState(false);\r\n  const navigate = useNavigate();\r\n  let logedinUser = JSON.parse(localStorage.getItem(\"logedinUser\"));\r\n  let tableData = JSON.parse(localStorage.getItem(\"userArr\"));\r\n  const handleDeleteUser = (user) => {\r\n    setLoading(true)\r\n    localStorage.setItem(\"deleteUserData\", JSON.stringify(user));\r\n    let oldUserIndex;\r\n    for (const [index,use] of props.userArr.entries()) {\r\n      if(use.email===user.email){\r\n        oldUserIndex=index;\r\n        console.log(use.email);\r\n        console.log(oldUserIndex,\"olduserindex\");\r\n      }\r\n    }\r\n    props.userArr.splice(oldUserIndex,1);\r\n    console.log(props.userArr);\r\n    setTimeout(() => {\r\n      localStorage.setItem(\"userArr\",JSON.stringify(props.userArr));\r\n      window.location.reload();\r\n    }, 5000000)\r\n    };\r\n  const handleEditUser = (user) => {\r\n    localStorage.setItem(\"editUserData\", JSON.stringify(user));\r\n    navigate(\"/dasboard/update\");\r\n    console.log(user);\r\n  };\r\n  useEffect(()=>{\r\n    console.log();\r\n    setLoading(false);\r\n  },[tableData.length]);\r\n  return (\r\n    <form>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>S.no</th>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Role</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {loading && <ClipLoader color=\"#36d7b7\" />}\r\n          {props.userArr.map((user, index) => (\r\n            <tr key={user.name}>\r\n              <td>{index + 1}</td>\r\n              <td>{user.name}</td>\r\n              <td>{user.email}</td>\r\n              <td>{user.role}</td>\r\n              <td>\r\n                {logedinUser.role === \"Admin\" ||\r\n                logedinUser.role === \"Manager\" ? (\r\n                  <Button label=\"Edit\" onClick={() => handleEditUser(user)} />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {logedinUser.role === \"Admin\" ? (\r\n                  <Button\r\n                    label=\"Delete\"\r\n                    onClick={() => handleDeleteUser(user)}\r\n                  />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default TableComp;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}